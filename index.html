<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="initial-scale=1.0,user-scalable=no" >
<!-- <link rel="stylesheet" type="text/css" href="mjsplot.css"> -->
	<script src="mjs_plot_0_3_n.js"></script>
	<script src="pressure2.js"></script>
<style>




#topmatter {
background:#262C42;
color:#ECF0F1;
padding:1em;
margin-right: auto;
margin-left: auto;
}

h1{
text-align: center;
font-weight: 600;
line-height: 1.1;
color: inherit;
font-size: 4em;
margin-bottom: 0px;
}

body {color: #333;background-color: #eee;
	margin:0px;
	padding:0px;
	min-width: 320px;
	line-height: 1.42857;
padding-top:0px;
font-family: "helvetica"}

h3{font-weight: normal;margin:10px;text-align:center;}

h2{margin: 5px;
font-size: x-large;
color: #262C42;
}
hr {
color: #262C42;
}

h4{
font-weight: 500;
text-align: center;
color: #ECF0F1;
font-size: 14px;
margin-top: 0px;
}

p{
font-size: 0.9em;
}

code{
font-size: small;
}

.featurebox a:visited{color:#333}

nav a{color:#777; font-size: x-small}

strong {
font-weight: 600;

}

.featurebox {
width: 251px;
	margin:5px;
	border: solid 1px #ccc;
	 border-radius: 5px;
	display: inline-block;
	vertical-align: middle;
	background-color: #fff;
	}
	
#boxes{
	min-width: 320px;max-width:800px;
	text-align: center;
}
#boxes h2{margin: 5px; font-size:medium}

#startmatter{
min-width: 320px;
max-width:800px;
margin-left:auto;
margin-right:auto;
padding:10px
}

#demos{
	min-width: 320px;max-width:1200px;
	margin-left:auto;
	margin-right:auto;
	padding:10px;
	text-align: center;
}
.demobox {
	margin:5px;
	
	display: inline-block;
	text-align: left;
	width: 45%;
	min-width: 320px;
	vertical-align: top;
}

.imgdemobox {
	margin:5px;
	padding:5px;
	display: inline-block;
	text-align: center;
	width: 45%;
	min-width: 320px;
	vertical-align: top;
	background-color: #fff;
	border-radius: 5px;

	}


</style>
</head>
 <body onresize="draw_graphs()" onload="draw_graphs()">
 
 <div id="topmatter">
 <nav><a href="docs.html#walkthrough">[Walkthrough]</a> <a href="docs.html#demos">[Demos]</a> <a href="docs.html#motivation">[Motivation]</a> 
 <a href="docs.html#implementation">[Implementation]</a> <a href="docs.html#helpers">[Helpers]</a>  <a href="docs.html#weaknesses">[Weaknesses]</a> 
 <a href="docs.html#style">[Style]</a> <a href="docs.html#download">[Downloads]</a>  <a href="docs.html#contact">[Contact]</a> </nav>

<h1>MJS Plot</h1>
<h4>A javascript library for highly interactive graphs for analysis and data exploration.</h4>

</div>


 <div id="startmatter">
<p>
<strong>MJS plot</strong> is a plotting library written in javascript.
It was written with data logging from scientific applications in mind.
</p>
<p>
The graph below is interactive. You can drag or pinch to zoom in.
There are pop-up menus at the top and bottom that reveal more features.
</p>
 <canvas id="democanvas" width="776" height="387"></canvas><br>
 <div id="boxes">
 
 <div class="featurebox">
<h2>Simple to use, and free.</h2>
One file, no dependencies. Few <a href="implementation.html">boilerplate lines</a>. Open source licence.
 </div>

     <div class="featurebox">
<h2>Interactive </h2>
Zoom, Pan, fit lines, transformations, symbol type, hide/show lines and more. 
 </div>
 
   <div class="featurebox">
<h2>Persistence</h2>
User made changes stay put. Page reloads won't reset the view.
 </div>
 
    <div class="featurebox">
<h2>Mobile Touch</h2>
Data analysis on your phone or tablet. Pinch to zoom and under-finger views.
 </div>
 
  <div class="featurebox">
<h2>HTML5</h2>
Uses the HTML5 canvas element. It's supported in all modern browsers on desktop and mobile
 </div>
 
   <div class="featurebox">
<h2>Responsive</h2>
Plot on nearly any size canvas.
As well as figuring out a new scale that always is sensible. Try resizing this page.
 </div>
 
      <div class="featurebox">
<h2>Time-series data</h2>
Time axes for graphs. From milliseconds to years there is a scale that works. <a href="demos/timedemo.html">[demo]</a>
 </div>
 
       <div class="featurebox">
<h2>Out-of-the-box OK</h2>
Auto-detect axes scales, colours separated in HSL. Clean simple style.
 </div>
 
        <div class="featurebox">
<h2>No data traps</h2>
Easily get your data out. Export as CSV, JSON, code (c-style, matlab-style), and as 300dpi PNG for print.
 </div>
 
 
 </div>
 
 </div>
 
 <div id="demos">
	<h3> Features</h3>
	 
 <div class="demobox">
  <h2>Measuring</h2>
 <hr>
 <p>
 After picking the measure mode, interactively click and drag out a line to measure what's on the graph.
 Mobile users can use two fingers to draw a line.</p>
 <p>Depending on the axis modes, the measure tool will show:</p>
<ul>
<li>Deltas</li>
<li>Gradients</li>
<li>Time constants</li>
<li>Powerlaws</li>

</ul>
<p>It works with times axes too: get results in /ms /s /m /h or /day.</p>
 </div>
 <div class="imgdemobox">
	  <img src="pics/measureTool.jpg" alt="Smiley face" width="100%"> 
 </div> 
 
  <div class="demobox">
  <h2>Multi Touch</h2>
 <hr>
 <p>Touch screen users aren't left out. They can intuitively use two finger to move around the graph. Panning and zooming around
 setting the scale on both axes at once. While doing this an image of the graph is distorted so placement is easy.
 This is achieves buttery smooth animations.</p>

 </div>
 <div class="imgdemobox">
	  <img src="pics/multitouch.jpg" alt="Smiley face" width="100%" style="max-width:356px"> 
 </div>
	
	
  <div class="demobox">
  <h2>Data Fits</h2>
 <hr>
 <p>Get quick results or make predictions. </p>
<ul>
<li>Linear fits with error estimation</li>
<li>Polynomials.</li>
<li>Exponential Decays, with and without an offset +c</li>
</ul>
<p>Data fittings also work on time series data using pre-fit normalisation.</p>
 </div>
 <div class="imgdemobox">
	  <img src="pics/fits.jpg" alt="Smiley face" width="100%"  style="max-width:540px"> 
 </div>
 
	
	   <div class="demobox">
 <h2>Data Transformations</h2>
 <hr>
 <p>
 Quick bits of analysis are easy with a system of stacking data transformations.
 Each transformation runs on top of the last like c(b(a(<tt>data</tt>))).
 
 </p>
<ul>
<li>Many common operations
<li>1/x, log(), ln(), exp() etc
<li>Smooth (with variable aperture)
<li>dy/dx, integrate
<li>y vs y</li>
<li>Jitter, subtract line
<li>custom functions.
<li>subtract fit, remove outliers.
<li>and more!
</ul>
<p>
Clicking again on a function can change it's arguments, e.g. smoothing aperture.
There are also pop and reset options to remove the last applied transform or to remove all of them.
</p>
 </div>
 <div class="imgdemobox">
	  <img src="pics/transforms.jpg" alt="Smiley face" width="100%" style="max-width:540px"> 
 </div>
 
 
 
 
 <div class="demobox">
  <h2>Function Plotter</h2>
 <hr>
 <p>Include quick lines without resorting to coding.</p>
<ul>
<li>Drawn on-the-fly</li>
<li>Infinite canvas</li>
<li>Functions even on a time axis</li>
</ul>
<p>
When on a time axis the evaluator uses x as milliseconds from epoch.
Cyclic functions work well (and is the default) but there is also
the variable <tt>now</tt> available to get the current time in ms.
</p>
 </div>
 <div class="imgdemobox">
	  <img src="pics/functions.jpg" alt="Smiley face" width="100%" style="max-width:540px"> 
 </div>
 
 
  <div class="demobox">
  <h2>Data Export</h2>
 <hr>
 <p>
 Get actual useful data straight from the graph. No data-readers required here!
 </p>
<p>
You can get the data out and into a format you want to use.
</p>
<p>
In testing: there is a link export mode that generates a long url from the
graph including all the data, captions, styles, transformations, and fits.
Send this link to a peer and they will be able to see the graph just as you see it.
</p>
 </div>
 <div class="imgdemobox">
	  <img src="pics/export.png" alt="Smiley face" width="100%"  style="max-width:225px"> 
 </div>
 
 <div class="demobox">
  <h2>Time Axis</h2>
 <hr>
 <p>
 Fully automatic, fully working time axis.
 </p>
<ul>
<li>Any scale between 0.001ms to 10years.</li>
<li>Unambiguous, shows enough information without clutter.</li>
</ul>
<p>
Only picks useful scales with sensible ticks and resolution.
Handling months with different number of days. Leap days, and leap seconds OK.
</p>
 </div>
 <div class="imgdemobox">
	  <img src="pics/timescales.jpg" alt="Smiley face" width="100%" style="max-width:432px"> 
 </div>
 
  <div class="demobox">
  <h2>Log Scales that Work</h2>
 <hr>
 <p>
 Never get stuck with a view that can't tell where it is.
 It works continuously even if the data covers 100s of orders of magnitude or 1/100th.
 </p>
<ul>
<li>Normal log</li>
<li>Zoomed in log scales that look just like a skewed linear scale.</li>
<li>Far zoomed out view, handle well spaced orders of magnitude</li>
<li>When using SI units, jump in powers of three only.</li>

</ul>
 </div>
 <div class="imgdemobox">
	  <img src="pics/logscales.png" alt="Smiley face" width="100%"  style="max-width:345px"> 
 </div>
 
 
 
 <div class="demobox">
  <h2>Fullscreen Graphs</h2>
 <hr> <p>
	 Press the fullscreen button to launch any graph fullscreen.
  Get the most out of valuable mobile screen space. 
  </p>
 
<p>
Great for small screens, tablets, phones, and overhead monitors.
</p>
<p>Not working on Apples's Safari until they implement the fullscreen API</p>
 </div>
 <div class="imgdemobox">
	  <img src="pics/fulscreenMobile.jpg" alt="Smiley face"  style="max-height:356px"> 
 </div>
 
 
 <div class="demobox">
  <h2>Histogram Generator</h2>
 <hr>
 <p>Using <tt>hist</tt>, one of the many stackable functions. It returns the bin centers and counts, then use the histogram line mode to view
 a histogram.</p>
<ul>
<li>Auto binning, nice scales.</li>
<li>Even on a log axis.</li>
</ul>
 </div>
 <div class="imgdemobox">
	  <img src="pics/histograms.jpg" alt="Smiley face" width="100%"  style="max-width:523px"> 
 </div>
 
 
 <div class="demobox">
  <h2>Take graphs further</h2>
 <hr>
 Make all the adjustments you want in whatever editor you want. 
 Image export options:
<ul>
<li>vector format graphs as <tt>.svg</tt> </li>
<li>300dpi raster graphs as <tt>.png</tt> </li>
</ul>
 </div>
 
 <div class="imgdemobox">
	  <img src="pics/SVGexport.jpg" alt="Smiley face" width="100%" style="max-width:540px"> 
 </div>

<div class="demobox">
 <h2>Pre-set sizes</h2>
 <hr>
 <p>
You can get any size graph you want, just by resizing the canvas.
There are pre-defined sizes for small and large figures commonly used in papers or reports.
 </p>

 </div>
 <div class="imgdemobox">
	  <img src="pics/figureSizes.png" alt="Smiley face"  style="max-height:300px"> 
 </div>
 
   <h3>Playground</h3>
 
 <div class="demobox">
 <h2>Build Your Own</h2>
 <hr>
 <p>
 The <a href='playground/mjslab.html'>Playground</a>.
 </p>
<p>
This is a space where you can import data, manipulate it, and then plot using MJS plot.
The interface on this page is simplified and made to imitate like matplotlib and matlab.
</p>
</div>
 
 <h3>Demos</h3>
  <hr>
<div class="demobox">
 <h2><a href='./demos/data.html'> Three Fullscreen </a></h2>
 <p> 
 Pulls data from different sources, Three graphs on a screen. Shows setting defaults. A frozen snapshot from a live page.
 </p>
  <p>
 This page isn't so mobile friendly. It was written for an overhead display.
 </p>
 </div>

<div class="demobox">
 <h2><a href='./demos/diode_test.html'> Time series Data </a></h2>
 <p> 
 Mobile Friendly. A snapshot of some measured temperatures.
 </p>
 </div>
 
 <div class="demobox">
 <h2><a href='./demos/exp_test.html'> Exponential Data </a></h2>
 <p> 
Also Mobile Friendly. You can try out different fits from this data set.
 </p>
 </div>


 <h3>Contact</h3>
 <hr>
  <div class="demobox">
 <h2> Contact</h2>
 <p>
 <a href='http://www.reddit.com/r/MJSplot/'>MJS plot subreddit</a> A place to complain about everything, or show off, or ask for help. The developer hangs around here.
 </p>
 <p>
<a href="https://plus.google.com/114017013549078536058" rel="publisher">Google+</a> Posts about MJS plot are sometimes made here.
 </p>
 </div>

 
 <h3> Implementation</h3>
 <hr>

 
<div class="demobox">
<p>
The hardest part of using MJS plot for logging is getting your data accessible online.
This is typically just read asynchronously, or included in the webpage.
</p>
</div>
 
<div class="demobox">
<p>
The a quick api reference <a href="implementation.html"> is available</a> as well as a more <a href="docs.html#implementation"> tutorial style guide</a>
</p>
</div>
 
 
 
 <div class="demobox">
 <h2>Plating Data</h2>
 <hr>
<p>The minimal code to get a graph.</p>
<code>
var demo1Graph = mjs_plot.new_graph("demo1Graph","demo1");<br>
var x = [1,2,3,4];<br>
var y = [8,6,2,6];<br>
demo1Graph.set_data([[x,y]]);<br>
demo1Graph.set_captions(["Basic Line"]);<br>
demo1Graph.mjs_plot();<br>
</code> 
<p>The canvas has <code>id="demo1"</code>. </p>
 </div>
  
 <div class="demobox">
<canvas height="206" width="329" id="demo1"></canvas>
 </div>
 
 
  <div class="demobox">
 <h2>Customisation</h2>
 <hr>
<p>Accessible via the graphics_style and default_graphics_style</p>
<p>If you want to force the change, or just setup the first view</p>
<code>
var demo2Graph = mjs_plot.new_graph("demo2Graph","demo2");<br>
demo2Graph.set_data([[x,y]]);<br>
demo2Graph.set_captions(["Basic Line"]);<br>
demo2Graph.default_graphics_style.title = "Example Graph";<br>
demo2Graph.default_graphics_style.show_grid = true;<br>
demo2Graph.default_graphics_style.y_scale_mode = "log";<br>
demo2Graph.default_graphics_style.x_axis_title =  "x";
demo2Graph.default_graphics_style.y_axis_title =  "y";
demo2Graph.mjs_plot();<br>
</code>
<p>You can setup everything, colours, fonts, subtitles, axis labels and more.</p>
 </div>
  
 <div class="demobox">
<canvas height="206" width="329" id="demo2"></canvas>
 </div>
 
 
 
   <div class="demobox">
 <h2>Multiple Lines</h2>
 <hr>
<p>As many lines as you want. Each line gets a colour that is separated in HLS space.</p>
<code>
...<br>
demo3Graph.set_data([[x,y],[x2,y2]]);<br>
demo3Graph.set_captions(["First Line","Second Line"]);
demo2Graph.mjs_plot();<br>
</code>
<p></p>
 </div>
  
 <div class="demobox">
<canvas height="206" width="329" id="demo3"></canvas>
 </div>
 
 
   <div class="demobox">
 <h2>Working with Time</h2>
 <hr>
<p>Time strings get processed into milliseconds from epoch. Many time strings work, but the
preferred type is <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>. </p>
<code>
var demo4Graph = mjs_plot.new_graph("demo4Graph","demo4");<br>
var t = ['April 20 2015', 'May 3 2015', '2015-05-25T12:00:00Z'];<br>
var h = [1.2e-15,6e6,8e16];<br>
var t = mjs_plot.convert_time_strings(t);<br>
demo4Graph.set_data([[t,h]]);<br>
demo4Graph.set_captions(["Time Series"]);<br>
demo4Graph.default_graphics_style.x_scale_mode =  "time";<br>
demo4Graph.default_graphics_style.y_scale_mode =  "log";<br>
...
</code>
<p>Test the time string you want to use with the <a href="tools/time.html"> time tester</a></p>

<p>Here you can also see the y-axis data spanning many orders of magnitude begin plotted just fine.</p>

 </div>
  
 <div class="demobox">
<canvas height="206" width="329" id="demo4"></canvas>
 </div>
 
 <div>
 
 
<br>
<br>
<p> MJS 2014-2015</p>


<script>
	var index_pressure_graph = mjs_plot.new_graph("index_pressure_graph","democanvas");
	time = mjs_plot.convert_time_strings(pressureTimes);
	//this is how you set style things up:
	index_pressure_graph.set_data([[time,acp40out],[time,pot],[time,bigroots],[time,cond],[time,acp40],[time,littleroots],[time,still]]);
	index_pressure_graph.set_captions(['acp40out','pot','bigroots','cond','acp40in','littleroots','still']);
	index_pressure_graph.default_graphics_style.title = "Example Graph";
	index_pressure_graph.default_graphics_style.subtitle = 'Scientific Data';
	index_pressure_graph.default_graphics_style.x_axis_title =  "Hours";
	index_pressure_graph.default_graphics_style.font_name =  "helvetica";
	index_pressure_graph.default_graphics_style.axis_labels_font_size = 12;
	index_pressure_graph.default_graphics_style.tick_labels_font_size= 12;
	index_pressure_graph.default_graphics_style.y_axis_title =  "Pressure /mbar";
	index_pressure_graph.default_graphics_style.hidden_lines = [ false, true, true, false, true, true, false ];
	index_pressure_graph.default_graphics_style.color_bg =  "#eeeeee";
	index_pressure_graph.default_graphics_style.color_fg =  "#111111";
	index_pressure_graph.default_graphics_style.show_grid = true;
	index_pressure_graph.default_graphics_style.y_scale_mode = "log";
	index_pressure_graph.default_graphics_style.x_scale_mode =  "time";
	index_pressure_graph.mjs_plot();
	
	
	var demo1Graph = mjs_plot.new_graph("demo1Graph","demo1");
	var x = [1,2,3,4];
	var y = [8,6,2,6];
	demo1Graph.set_data([[x,y]]);
	demo1Graph.set_captions(["Basic Line"]);
	demo1Graph.mjs_plot();
	
	var demo2Graph = mjs_plot.new_graph("demo2Graph","demo2");
	demo2Graph.set_data([[x,y]]);
	demo2Graph.set_captions(["Basic Line"]);
	demo2Graph.default_graphics_style.title = "Example Graph";
	demo2Graph.default_graphics_style.show_grid = true;
	demo2Graph.default_graphics_style.y_scale_mode = "log";
	demo2Graph.default_graphics_style.guideWidthy = 18;
	demo2Graph.default_graphics_style.x_axis_title =  "x";
	demo2Graph.default_graphics_style.y_axis_title =  "y";
	demo2Graph.mjs_plot();
	
	var demo3Graph = mjs_plot.new_graph("demo3Graph","demo3");
	var x2 = [1.6,2.1,3.5,6];
	var y2 = [4.6,3.1,6.5,7];
	
	demo3Graph.set_data([[x,y],[x2,y2]]);
	demo3Graph.set_captions(["First Line","Second Line"]);
	demo3Graph.default_graphics_style.title = "More lines";
	demo3Graph.default_graphics_style.show_grid = true;
	demo3Graph.default_graphics_style.x_axis_title =  "x";
	demo3Graph.default_graphics_style.y_axis_title =  "y";
	demo3Graph.mjs_plot();
	
	var demo4Graph = mjs_plot.new_graph("demo4Graph","demo4");
	var t = ['April 20 2015', 'May 3 2015', '2015-05-25T12:00:00Z'];
	var h = [1.2e-15,6e6,8e16];
	var t = mjs_plot.convert_time_strings(t);
	demo4Graph.set_data([[t,h]]);
	demo4Graph.set_captions(["Time Series"]);
	demo4Graph.default_graphics_style.x_scale_mode =  "time";
	demo4Graph.default_graphics_style.y_scale_mode =  "log";
	demo4Graph.default_graphics_style.title = "Time axis";
	demo4Graph.default_graphics_style.show_grid = true;
	demo4Graph.default_graphics_style.x_axis_title =  "Time";
	demo4Graph.default_graphics_style.y_axis_title =  "y";
	
	demo4Graph.mjs_plot();
	
	function draw_graphs(){
	//resize to page
	index_pressure_graph.canvas.width = index_pressure_graph.canvas.parentNode.clientWidth-20 ;//there is 10px padding
	index_pressure_graph.canvas.height = Math.min(0.628*index_pressure_graph.canvas.width,0.6*window.innerHeight) ;
	index_pressure_graph.mjs_plot();
	
	demo1Graph.canvas.width = demo1Graph.canvas.parentNode.clientWidth-20 ;//there is 10px padding
	demo1Graph.canvas.height = Math.min(0.628*demo1Graph.canvas.width,0.6*window.innerHeight) ;
	demo1Graph.mjs_plot();
	
	demo2Graph.canvas.width = demo2Graph.canvas.parentNode.clientWidth-20 ;//there is 10px padding
	demo2Graph.canvas.height = Math.min(0.628*demo2Graph.canvas.width,0.6*window.innerHeight) ;
	demo2Graph.mjs_plot();
	
	demo3Graph.canvas.width = demo3Graph.canvas.parentNode.clientWidth-20 ;//there is 10px padding
	demo3Graph.canvas.height = Math.min(0.628*demo3Graph.canvas.width,0.6*window.innerHeight) ;
	demo3Graph.mjs_plot();
	
	demo4Graph.canvas.width = demo4Graph.canvas.parentNode.clientWidth-20 ;//there is 10px padding
	demo4Graph.canvas.height = Math.min(0.628*demo4Graph.canvas.width,0.6*window.innerHeight) ;
	demo4Graph.mjs_plot();
	
	}
</script>
</div></div></body></html>
